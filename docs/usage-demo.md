# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI `claude-workflow`

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Claude Code workflow —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é CLI-–∫–æ–º–∞–Ω–¥—É `claude-workflow init` –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º Gradle-–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥ `demo-monorepo`, –Ω–æ —Ç–µ –∂–µ —à–∞–≥–∏ –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ –ª—é–±–æ–º—É Java/Kotlin –ø—Ä–æ–µ–∫—Ç—É.

## –¶–µ–ª—å —Å—Ü–µ–Ω–∞—Ä–∏—è
- —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —à–∞–±–ª–æ–Ω –≤—Å–µ–≥–æ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞;
- –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è;
- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—ã–±–æ—Ä–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ —Ö—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏;
- –ø—Ä–æ–π—Ç–∏ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª `/idea-new ‚Üí /plan-new ‚Üí /tasks-new ‚Üí /implement ‚Üí /review` –∏ —É–≤–∏–¥–µ—Ç—å —Ä–∞–±–æ—Ç—É –≥–µ–π—Ç–æ–≤ (workflow, –º–∏–≥—Ä–∞—Ü–∏–∏, —Ç–µ—Å—Ç—ã).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `bash`, `git`, `python3`;
- Gradle wrapper (`./gradlew`) –≤ –∫–æ—Ä–Ω–µ –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç–∞;
- —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π CLI: `uv tool install claude-workflow-cli --from git+https://github.com/GrinRus/ai_driven_dev.git` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî `pipx`);
- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `ktlint` –∏–ª–∏ Spotless, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

> –ï—Å–ª–∏ CLI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `init-claude-workflow.sh` (–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã `claude-workflow init`/`claude-workflow preset`).

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ –∑–∞–ø—É—Å–∫–∞

```text
demo-monorepo/
‚îú‚îÄ‚îÄ build.gradle.kts
‚îú‚îÄ‚îÄ settings.gradle.kts
‚îú‚îÄ‚îÄ gradle/
‚îÇ   ‚îî‚îÄ‚îÄ wrapper/‚Ä¶
‚îú‚îÄ‚îÄ service-checkout/
‚îÇ   ‚îú‚îÄ‚îÄ build.gradle.kts
‚îÇ   ‚îî‚îÄ‚îÄ src/main/kotlin/CheckoutService.kt
‚îî‚îÄ‚îÄ service-payments/
    ‚îú‚îÄ‚îÄ build.gradle.kts
    ‚îî‚îÄ‚îÄ src/main/kotlin/PaymentsService.kt
```

## –ü–æ—à–∞–≥–æ–≤—ã–π walkthrough

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
uv tool install claude-workflow-cli --from git+https://github.com/GrinRus/ai_driven_dev.git
git clone git@github.com:your-org/demo-monorepo.git
cd demo-monorepo
```

> –ù–µ—Ç `uv`? –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ `pipx install git+https://github.com/GrinRus/ai_driven_dev.git`. –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
claude-workflow init \
  --target . \
  --commit-mode ticket-prefix \
  --enable-ci \
  --force
```

- `--target .` —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å);
- `--commit-mode` –∑–∞–¥–∞—ë—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤;
- `--enable-ci` –¥–æ–±–∞–≤–ª—è–µ—Ç workflow GitHub Actions;
- `--force` –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã (—É–¥–æ–±–Ω–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –Ω–∞ –¥–µ–º–æ).

–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏—è (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ):

```text
[INFO] Checking prerequisites: bash ‚úÖ python3 ‚úÖ gradle ‚úÖ
[INFO] Generating Claude Code structure‚Ä¶
[INFO] Installing git hooks to .claude/hooks
[INFO] Writing config/conventions.json (mode=ticket-prefix)
[INFO] CI workflow enabled ‚Üí .github/workflows/gradle.yml
[DONE] Claude Code workflow is ready to use üéâ
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ git-—Å—Ç–∞—Ç—É—Å –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

```bash
git status -sb
```

```text
## main
A  .claude/settings.json
A  .claude/hooks/format-and-test.sh
A  config/conventions.json
‚Ä¶
```

–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ —Å–¥–µ–ª–∞–π—Ç–µ `git diff` –ø–æ –ª—é–±–æ–º—É —Ñ–∞–π–ª—É, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—ã–±–æ—Ä–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Ä—É—á–Ω—É—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
.claude/hooks/format-and-test.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª–∏–ª Gradle-–º–æ–¥—É–ª–∏ –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∏—Ö.

> –ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å: `SKIP_AUTO_TESTS=1` –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫, `FORMAT_ONLY=1` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —à–∞–≥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, `TEST_SCOPE=":app:test"` –∏–ª–∏ `TEST_CHANGED_ONLY=0` –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–±–æ—Ä–æ–º –∑–∞–¥–∞—á, `STRICT_TESTS=1` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–± —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–∞—Ö –≤ –æ—à–∏–±–∫—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

```text
demo-monorepo/
‚îú‚îÄ‚îÄ .claude/
‚îÇ   ‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ gradle/init-print-projects.gradle
‚îÇ   ‚îú‚îÄ‚îÄ hooks/{format-and-test.sh,protect-prod.sh}
‚îÇ   ‚îú‚îÄ‚îÄ settings.json
‚îÇ   ‚îî‚îÄ‚îÄ cache/project-dirs.txt
‚îú‚îÄ‚îÄ config/conventions.json
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ adr.template.md
‚îÇ   ‚îú‚îÄ‚îÄ prd.template.md
‚îÇ   ‚îî‚îÄ‚îÄ tasklist.template.md
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ ci-lint.sh
‚îÇ   ‚îî‚îÄ‚îÄ smoke-workflow.sh
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îú‚îÄ‚îÄ PULL_REQUEST_TEMPLATE.md
‚îÇ   ‚îî‚îÄ‚îÄ workflows/gradle.yml
‚îî‚îÄ‚îÄ README.md (–æ–±–Ω–æ–≤–ª—ë–Ω)
```

> –°–Ω–∏–º–æ–∫ ¬´–ø–æ—Å–ª–µ¬ª —É–¥–æ–±–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–æ–π `tree -L 2` –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º IDE. –î–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π –¥–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–æ/–ø–æ—Å–ª–µ –≤ `docs/images/`.

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å

1. –í Claude Code –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `/idea-new demo-checkout DEMO-1` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç slug –≤ `docs/.active_feature`, —Å–æ–±–µ—Ä—ë—Ç PRD –∏ —Å–ø–∏—Å–æ–∫ —É—Ç–æ—á–Ω–µ–Ω–∏–π.
2. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –ø–ª–∞–Ω –∏ —á–µ–∫–ª–∏—Å—Ç—ã: `/plan-new demo-checkout` —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–ª–∞–Ω, –∞ `/tasks-new demo-checkout` –ø–µ—Ä–µ–Ω–µ—Å—ë—Ç –µ–≥–æ –≤ `tasklist.md`.
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥–µ–π—Ç—ã –≤ `config/gates.json` –∏ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: –º–∏–≥—Ä–∞—Ü–∏–∏, OpenAPI-—Ñ–∞–π–ª—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/implement demo-checkout` ‚Äî –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç –∏–¥—Ç–∏ –º–∞–ª—ã–º–∏ —à–∞–≥–∞–º–∏, –∞ `.claude/hooks/format-and-test.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–±–æ—Ä–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (–æ—Ç–∫–ª—é—á–∞–µ–º–æ `SKIP_AUTO_TESTS=1`).
5. –§–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ git (`git commit -m "DEMO-1: add rule engine"`), –ø–æ–∫–∞ tasklist –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç –∏ —Ç–µ—Å—Ç—ã –Ω–µ —Å—Ç–∞–Ω—É—Ç –∑–µ–ª—ë–Ω—ã–º–∏.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ Claude Code
1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É `git checkout -b feature/DEMO-1`, —Å–æ–±–ª—é–¥–∞—è –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–æ–Ω–≤–µ–Ω—Ü–∏—é.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/idea-new`, `/plan-new`, `/tasks-new` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `docs/` –∏ `tasklist.md` –æ–±–Ω–æ–≤–∏–ª–∏—Å—å.
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–µ–π—Ç—ã: `gate-workflow` –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è PRD/–ø–ª–∞–Ω–∞/tasklist; –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–∞—Ö `api_contract`, `db_migration`, `tests_required` –ø–æ—è–≤—è—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞—Ö.
4. –ü–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.claude/hooks/format-and-test.sh` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SKIP_AUTO_TESTS=1` –¥–ª—è –ø–∞—É–∑—ã, `FORMAT_ONLY=1` –∏–ª–∏ `TEST_SCOPE=":module:test"` –¥–ª—è —Ç–æ—á–µ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
5. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m "DEMO-1: implement rule engine"`) –∏ –≤—ã–∑–æ–≤–∏—Ç–µ `/review demo-checkout`, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å —á–µ–∫–ª–∏—Å—Ç –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ–∂–∏–º –∫–æ–º–º–∏—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω.

## –†–∞–±–æ—Ç–∞ —Å –ø—Ä–µ—Å–µ—Ç–∞–º–∏ —Ñ–∏—á

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–æ—Ä–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥ `claude-presets/` —Å YAML-–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ñ–∏—á–∏. –ü—Ä–µ—Å–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **–ß–µ—Ä–µ–∑ CLI.** –í—ã–ø–æ–ª–Ω–∏—Ç–µ `claude-workflow preset feature-prd --feature checkout-discounts`, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ–º–æ-PRD. –ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `feature-plan` –∏ `feature-impl`, –∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã (`feature-design`, `feature-release`) –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `claude-presets/advanced/`. CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç —Ü–µ–ª–∏ –∏–∑ `docs/usage-demo.md` –∏ –∑–∞–¥–∞—á–∏ –∏–∑ `doc/backlog.md (Wave 7)`. –†–µ–∑–µ—Ä–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî `bash init-claude-workflow.sh --preset ‚Ä¶`.
2. **–í–Ω—É—Ç—Ä–∏ Claude Code.** –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª –ø—Ä–µ—Å–µ—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `claude-presets/feature-plan.yaml`) –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `claude-workflow-extensions.patch`.

–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:

| –ü—Ä–µ—Å–µ—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç | –§–∞–π–ª | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ |
| --- | --- | --- | --- |
| `feature-prd` | –ß–µ—Ä–Ω–æ–≤–∏–∫ PRD –∏ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞ | `docs/prd/<slug>.prd.md` | `claude-presets/` |
| `feature-plan` | –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ | `docs/plan/<slug>.md` | `claude-presets/` |
| `feature-impl` | –°–µ–∫—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–æ–≤ –≤ tasklist | `tasklist.md` | `claude-presets/` |
| `feature-design` | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞/ADR –¥–ª—è —Ñ–∏—á–∏ | `docs/design/<slug>.md` | `claude-presets/advanced/` |
| `feature-release` | –ó–∞–ø–∏—Å—å –≤ —Ä–µ–ª–∏–∑–Ω—ã—Ö –∑–∞–º–µ—Ç–∫–∞—Ö | `docs/release-notes.md` | `claude-presets/advanced/` |

–°–∫—Ä–∏–ø—Ç `scripts/smoke-workflow.sh` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π E2E: –æ–Ω —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —à–∞–±–ª–æ–Ω, –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ñ–∏—á—É `demo-checkout`, –ø—Ä–æ–≥–æ–Ω—è–µ—Ç –±–∞–∑–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã (`feature-prd`, `feature-plan`, `feature-impl`) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≥–µ–π—Ç `gate-workflow.sh` –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è PRD/–ø–ª–∞–Ω–∞/—Ç–∞—Å–∫–ª–∏—Å—Ç–∞.

## –†–µ–ª–∏–∑–Ω—ã–π —Ü–∏–∫–ª CLI
1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `pyproject.toml` –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–ª–æ–∫ –≤ `CHANGELOG.md`.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `scripts/ci-lint.sh` –∏ `claude-workflow smoke`, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–π—Ç–µ `git push` –≤ `main`. Workflow `autotag.yml` —Å–æ–∑–¥–∞—Å—Ç —Ç–µ–≥ `v<–≤–µ—Ä—Å–∏—è>`, –µ—Å–ª–∏ –µ–≥–æ –µ—â—ë –Ω–µ—Ç.
3. –¢–µ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç `release.yml`: –ø–∞–∫–µ—Ç —Å–æ–±–µ—Ä—ë—Ç—Å—è (`python -m build`), –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ–ø–∞–¥—É—Ç –≤ GitHub Release –∏ –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã workflow.
4. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–∏–∑–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ workflow `Publish` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç —Å–æ–±—ã—Ç–∏—è Release –∏–ª–∏ –≤—Ä—É—á–Ω—É—é). –û–ø—Ü–∏–∏:
   - `pypi` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç `PYPI_API_TOKEN`.
   - `testpypi` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏ —Å–µ–∫—Ä–µ—Ç `TEST_PYPI_API_TOKEN`.
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–ª–∏–∑ –ø–æ—è–≤–∏–ª—Å—è –Ω–∞ GitHub –∏ —á—Ç–æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–µ–µ—Å—Ç—Ä–µ. –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–µ—Ä–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏–≤ `Publish` —Å —Ñ–ª–∞–≥–æ–º `skip-existing`.

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- **–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Ç–µ—Ä–ø–∏—Ç –Ω–µ—É–¥–∞—á—É:** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Gradle –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH.
- **–¢–µ—Å—Ç—ã –Ω–µ —Å—Ç–∞—Ä—Ç—É—é—Ç:** —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `./gradlew` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (`chmod +x gradlew`) –∏ —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø—É—Å–∫.
- **–§–∞–π–ª—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:** –¥–æ–±–∞–≤—å—Ç–µ `--force`, –Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é.
- **–ù—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ–≥–Ω–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:** —Å–∫—Ä–∏–ø—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã. –ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git diff`.

–¢–µ–ø–µ—Ä—å –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å Claude Code workflow. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit`) –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
