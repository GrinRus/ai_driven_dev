# PRD — Шаблон

Заполните текст в соответствии с проектом. Примеры в скобках помогут выбрать формат.

## Диалог analyst
Status: draft

Ссылка на исследование: `docs/research/<ticket>.md`

> Этот раздел создаётся автоматически после `/idea-new <ticket>` — заполните вопросы/ответы и обновите статус на READY перед `analyst-check`.

Вопрос 1: `<Что нужно уточнить?>`  
Ответ 1: `<Ответ или TBD>`

<!-- Добавьте дополнительные пары «Вопрос N»/«Ответ N» по мере диалога. Удалите блок, когда заполните реальными данными. -->

## 1. Обзор
- **Название продукта/фичи**: `<Название или код>` (например, `Smart Checkout`)
- **Исходные артефакты**: `<Перечень репозиторных документов>` (например, `doc/backlog.md`, `docs/research/ABC-123.md`, `reports/research/ABC-123-context.json`)
- **Дата/версия**: `<2024-05-14 v1>`
- **Краткое описание**: `<1–2 предложения о цели инициативы>`

## 2. Контекст и проблемы
- **Текущая ситуация**: `<Что происходит сейчас>` (например, «Конверсия падает на 12% при переходе к оплате»)
- **Проблемы/гипотезы**: `<Список ключевых pain points>`
- **Затронутые сегменты**: `<Перечень сегментов и доля пользователей>`

## 3. Цели и метрики успеха
- **North Star / основная метрика**: `<A → B>` (например, «Увеличить конверсию до 68% (+10 п.п.)»)
- **Поддерживающие метрики**: `<метрика → целевое значение>` (например, «Сократить время оформления заказа до 40 сек.»)
- **Контрольные метрики**: `<метрика → пороговое значение>` (например, «Доля ошибок оплаты ≤ 1%»)

## 4. Связанные ADR и артефакты
- `<adr/0001-smart-checkout.md — объясняет выбор протокола>`  
- `<adr/0002-payment-gateway.md — описывает интеграцию с PSP>`  
- `docs/research/<ticket>.md — выводы Researcher и рекомендации по интеграции`  
- `<таски / epic / RFC>` (укажите ссылки или идентификаторы)

## 5. Пользовательские сценарии
Опишите ключевые сценарии от лица пользователя:
1. `<Как пользователь выполняет ключевое действие>`  
2. `<Edge-case сценарий>`  
Добавьте диаграммы или последовательности, если они помогают.

## 6. Требования
### 6.1 Функциональные
- [ ] `<Краткое описание поведения>` (например, «Система сохраняет черновик корзины на 7 дней»)
- [ ] `<Валидации, пограничные состояния>`

### 6.2 Нефункциональные
- [ ] `<SLO/SLI или производительность>` (например, «P95 ответа сервиса ≤ 300 мс»)
- [ ] `<Безопасность, доступность, локализация>`

## 7. Ограничения и зависимости
- **Технические**: `<Legacy, инфраструктура, лицензии>`
- **Процессные**: `<Календари релизов, внешние команды>`
- **Внешние**: `<Партнёры, регуляторы>`

## 8. План и этапы
- **Майлстоуны**: `<MVP, Beta, GA>`
- **Автоматизация и проверки**: `<Команды/хуки, которые должен запускать агент>` (например, `./gradlew :app:test`, `claude-workflow progress --source implement --ticket ABC-123`)
- **Системные интеграции**: `<Сервисы, API, очереди, от которых зависит фича>`

## 9. Риски и стратегии
- `<Риск>` → `<Вероятность/Импакт>` → `<Митигация>`
- `<Что делаем, если тезис не подтверждается>`

## 10. Открытые вопросы
- `<Вопрос>` → `<Ответственный>` → `<Дедлайн решения>`

## 11. PRD Review
Status: pending

### Summary
- `<Ключевые выводы ревью>`

### Findings
- [ ] `<Описание проблемы>` — `<Серьёзность>` — `<Рекомендация>`

### Action items
- [ ] `<Действие>` — `<Ответственный>` — `<Дедлайн>`

> Обновите статус на `approved`, когда все пункты закрыты. Используйте `/review-prd <ticket>`, чтобы зафиксировать выводы агента.

## 12. Чеклист ревью PRD
- [ ] Цели и метрики успеха согласованы со стейкхолдерами.
- [ ] Есть ссылки на все актуальные ADR и связанные таски.
- [ ] Сценарии пользователя покрывают happy-path и edge-case.
- [ ] Указаны контрольные метрики и граничные условия.
- [ ] Риски и зависимости описаны с планом действий.
- [ ] Команда подтверждает ресурсы/таймлайн.

## 13. История изменений
- `<Дата>` — `<Что изменилось>` — `<Автор>`
