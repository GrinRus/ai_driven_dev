# ADR — Шаблон

> Архитектурное решение должно быть коротким и воспроизводимым. Заполните секции, убрав подсказки в угловых скобках.

## 1. Метаданные
- **Идентификатор**: `ADR-<номер>` (например, `ADR-0005`)
- **Название**: `<Кратко сформулированное решение>`
- **Статус**: `<Proposed | Accepted | Rejected | Superseded>`
- **Дата**: `<YYYY-MM-DD>`
- **Связанный PRD / инициативы**: `[PRD: <ссылка>]`, `[Таски: <JIRA-123, RFC-45>]`

## 2. Контекст
Опишите ситуацию и требования, которые приводят к необходимости решения.
- **Проблема**: `<Какое ограничение необходимо снять>`
- **Драйверы**: `<Метрики, SLA, бизнес-кейсы>`
- **Альтернативы, которые рассматривались**: `<Кратко, по 1–2 предложения>`

## 3. Решение
- **Выбранный подход**: `<Описание архитектуры / паттерна>`
- **Компоненты**: `<Сервисы, модули, библиотеки>`
- **Диаграмма** *(опционально)*: `<Ссылка на C4/Sequence>`

## 4. Импакт на систему
- **Затронутые домены**: `<Auth, Checkout, Payments>`
- **Изменения интерфейсов / API**: `<REST / gRPC / события>`
- **Миграции / данные**: `<Новые таблицы, скрипты миграции>`
- **Операционные эффекты**: `<Мониторинг, алерты, on-call нагрузка>`
- **Риски и обходные планы**: `<Что пойдёт не так и как реагировать>`

## 5. Оценка альтернатив
| Вариант | Плюсы | Минусы | Причина отказа |
| --- | --- | --- | --- |
| `<Вариант A>` | `<+>` | `<->` | `<Почему не выбрали>` |
| `<Вариант B>` | `<+>` | `<->` | `<Почему не выбрали>` |

## 6. Критерии принятия решения
- [ ] `<Требование, которое должно выполняться>` (например, «P95 < 250 мс»)
- [ ] `<Совместимость / обратная совместимость проверена>`
- [ ] `<План миграции согласован с командами>`
- [ ] `<Мониторинг и алерты определены>`
- [ ] `<Документация и обучение подготовлены>`

## 7. План внедрения
- **Этапы**: `<PoC → Beta → GA>`
- **Зависимости**: `<Команды, контракты, инфраструктура>`
- **Дедлайны**: `<Дата/спринт>`

## 8. Решение и последующие действия
- **Принято/отклонено**: `<Кто утвердил и когда>`
- **TODO после принятия**: `<Список follow-up задач>`
- **Связанные PR / коммиты**: `<Ссылки>`

## 9. История
- `<Дата>` — `<Изменение>` — `<Автор>`
