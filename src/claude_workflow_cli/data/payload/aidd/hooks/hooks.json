{
  "hooks": {
    "PreToolUse": [
      {
            "matcher": "Write|Edit",
            "hooks": [
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-workflow.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-prd-review.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-api-contract.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-db-migration.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-qa.sh\\\"'",
                "timeout": 60
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-tests.sh\\\"'",
                "timeout": 5
              }
            ]
          }
        ],
        "UserPromptSubmit": [
          {
            "matcher": ".*",
            "hooks": [
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-workflow.sh\\\"'",
                "timeout": 5
              }
            ]
          }
        ],
        "Stop": [
          {
            "matcher": ".*",
            "hooks": [
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-workflow.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/format-and-test.sh\\\"'",
                "timeout": 900
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/lint-deps.sh\\\"'",
                "timeout": 10
              }
            ]
          }
        ],
        "SubagentStop": [
          {
            "matcher": ".*",
            "hooks": [
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/gate-workflow.sh\\\"'",
                "timeout": 5
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/format-and-test.sh\\\"'",
                "timeout": 900
              },
              {
                "type": "command",
                "command": "bash -lc 'ROOT=${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR:-$PWD}}; if [ ! -d \\\"$ROOT/.claude/hooks\\\" ] && [ -d \\\"$ROOT/aidd/.claude/hooks\\\" ]; then ROOT=\\\"$ROOT/aidd\\\"; fi; \\\"$ROOT/.claude/hooks/lint-deps.sh\\\"'",
                "timeout": 10
              }
            ]
          }
        ]
      }
    }
