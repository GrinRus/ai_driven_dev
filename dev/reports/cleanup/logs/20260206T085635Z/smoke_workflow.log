[smoke] working directory: /var/folders/0y/qkpd1n592qjgm3w3rcl_gs6m0000gn/T//aidd-smoke.d1VZfB
[smoke] initialise git repository
[smoke] bootstrap workflow scaffolding
[smoke] tune gates for smoke (optional deps)
[smoke] validate plugin hooks wiring
[smoke] run context-gc hooks
[smoke] create demo source file
[smoke] gate allows edits when feature inactive
[smoke] gate-workflow -> 0 (no active feature)
[smoke] activate feature ticket
[smoke] run research targets-only
[aidd] WARN: missing research paths: src/test, src/test/kotlin (use --paths-relative workspace or update conventions)
[smoke] simulate idea-new: seed draft PRD with questions and pending research
[smoke] run researcher stage (collect research context)
[aidd] WARN: missing research paths: src/test, src/test/kotlin (use --paths-relative workspace or update conventions)
[pack-trim] research pack trimmed: matches(-5), profile.recommendations(-2), paths.sample(-5), paths(-6), docs(-2), drop.pack_trim_stats(-1)
[smoke] seed minimal RLM nodes
[smoke] finalize RLM evidence
[pack-trim] research pack trimmed: matches(-5), profile.recommendations(-2), paths.sample(-5), paths(-6), docs(-3), drop.pack_trim_stats(-1)
[aidd] updated rlm_status=ready in aidd/reports/research/demo-checkout-context.json.
[smoke] research-check must pass
[smoke] expect block while PRD draft / research handoff pending
[smoke] gate-workflow -> 2 (draft PRD)
[smoke] analyst answers questions and marks PRD READY
[smoke] mark analyst dialog ready
[smoke] analyst-check must pass
[smoke] expect block until plan exists
[smoke] gate-workflow -> 2 (missing plan)
[smoke] ensure plan template exists
[smoke] ensure plan содержит Design & Patterns и reuse
[smoke] mark Plan Review as READY
[smoke] plan-review-gate passes
[smoke] expect block until PRD review READY
[smoke] gate-workflow -> 2 (pending PRD review)
[smoke] mark PRD review as READY
[smoke] run prd-review and prd-review-gate
[prd-review] report saved to aidd/reports/prd/demo-checkout.json
[pack-budget] prd pack budget exceeded: findings 52 > 20. Reduce top-N, trim snippets, or set AIDD_PACK_LIMITS to lower pack size.
[smoke] expect block until tasks recorded
[smoke] gate-workflow -> 2 (missing tasklist items)
[smoke] ensure tasklist template exists
[smoke] ensure spec template exists
[smoke] mark spec ready
[smoke] update tasklist summary
[smoke] tasklist snapshot

## AIDD:HOW_TO_UPDATE
- Правило итерации: **1 чекбокс** (или 2 тесно связанных) — затем Stop.
- Отмечайте чекбоксы так:
  - `- [x] I1: <title> (iteration_id: I1) (link: <commit/pr|report>)`
  - `- [x] <handoff title> (id: review:F6) (link: <commit/pr|report>)`
- После каждого [x] обновляй `AIDD:NEXT_3` (pointer list) и добавляй запись в `AIDD:PROGRESS_LOG`.
- Если меняешь тестовый профиль/команды — обнови `AIDD:TEST_EXECUTION`.
- Если обновили spec — запусти `/feature-dev-aidd:tasks-new` для синхронизации tasklist.
- Логи/stacktrace не вставлять в tasklist — только ссылки на `aidd/reports/**`.
[smoke] expect block when test execution incomplete
[smoke] gate-workflow -> 2 (missing test execution profile)
[smoke] expect block when plan iteration missing from tasklist
[smoke] gate-workflow -> 2 (plan iteration mismatch)
[smoke] gate now allows source edits
[aidd] DEPRECATED: use /Users/griogrii_riabov/grigorii_projects/ai_driven_dev/skills/review/scripts/reviewer-tests.sh
[tasklist-check] WARN: iteration I1 max_files=1 outside 3-8
[tasklist-check] WARN: plan not found: /private/var/folders/0y/qkpd1n592qjgm3w3rcl_gs6m0000gn/T/aidd-smoke.d1VZfB/aidd/docs/plan/<ABC-123>.md
[smoke] gate-workflow -> 0 (all artifacts ready)
[smoke] commit baseline state
[smoke] modify source without updating tasklist
[smoke] configure test policy for format-and-test smoke
[smoke] set review stage for format-and-test
[smoke] format-and-test uses profile and dedupe
[smoke] verify format-and-test log created
[smoke] common patterns trigger full profile
[smoke] gate blocks when checkbox is missing
[smoke] gate-workflow -> 2 (missing progress checkbox)
[smoke] progress CLI reports missing checkbox
[smoke] mark checkbox as completed in tasklist
[smoke] progress CLI passes after checkbox update
[smoke] gate-workflow -> 0 (progress checkbox added)
[smoke] run QA command and ensure report created
[aidd] QA tests skipped (allow_no_tests enabled or no commands configured).
[aidd] QA report saved to aidd/reports/qa/demo-checkout.json.
[aidd] QA pack saved to aidd/reports/qa/demo-checkout.pack.json.
[smoke] derive tasklist items from QA report (handoff)
[smoke] minimal loop: create loop packs
[smoke] create review report and derive handoff tasks
[aidd] DEPRECATED: use /Users/griogrii_riabov/grigorii_projects/ai_driven_dev/skills/review/scripts/review-report.sh
[aidd] DEPRECATED: use /Users/griogrii_riabov/grigorii_projects/ai_driven_dev/skills/review/scripts/review-pack.sh
[smoke] verify generated artifacts
[smoke] reviewer requests automated tests
[aidd] DEPRECATED: use /Users/griogrii_riabov/grigorii_projects/ai_driven_dev/skills/review/scripts/reviewer-tests.sh
[smoke] reviewer clears test requirement
[aidd] DEPRECATED: use /Users/griogrii_riabov/grigorii_projects/ai_driven_dev/skills/review/scripts/reviewer-tests.sh
[smoke] smoke scenario passed
[smoke] negative scenario: gate fails on incorrect target without aidd workflow
