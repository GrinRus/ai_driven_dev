{
  "metadata": {
    "lastUpdated": "2024-05-14",
    "maintainer": "workflow-team",
    "notes": "Измените mode и соответствующие шаблоны, если нужно расширить список режимов."
  },
  "commit": {
    "mode": "ticket-prefix",
    "fields": {
      "ticket": "Обязательный идентификатор задачи (например, ABC-123). Используется в ticket-prefix и mixed режимах.",
      "type": "Базовый тип изменения (feat, fix, chore, docs, test, refactor, perf, build, ci, revert).",
      "scope": "Логическая область или модуль (checkout, payments, infra)."
    },
    "modes": {
      "ticket-prefix": {
        "description": "Сообщение начинается с тикета и двоеточия.",
        "template": "<TICKET>: <summary>",
        "example": "STORE-123: implement rule engine",
        "usage": "Подходит командам, где тикет обязателен во всех коммитах."
      },
      "conventional": {
        "description": "Следует стандарту Conventional Commits.",
        "template": "<type>(<scope>): <summary>",
        "example": "feat(checkout): add retry on failure",
        "usage": "Используйте, когда важна типизация и автогенерация CHANGELOG."
      },
      "mixed": {
        "description": "Гибридный режим: добавляет тикет и сохраняет тип/область.",
        "template": "<TICKET> <type>(<scope>): <summary>",
        "example": "STORE-123 feat(payments): add 3ds redirect",
        "usage": "Рекомендуется, если тикет нужен, но важен и формат Conventional."
      }
    }
  },
  "branch": {
    "defaultPrefix": "feature",
    "naming": {
      "feature": {
        "pattern": "feature/<TICKET>",
        "example": "feature/STORE-123",
        "when": "Основная разработка по задаче."
      },
      "fix": {
        "pattern": "fix/<scope>",
        "example": "fix/checkout-errors",
        "when": "Быстрые корректировки без связанного тикета."
      },
      "hotfix": {
        "pattern": "hotfix/<TICKET>",
        "example": "hotfix/STORE-999",
        "when": "Срочные исправления в продакшене."
      },
      "mixed": {
        "pattern": "feature/<TICKET>-<type>/<scope>",
        "example": "feature/STORE-123-feat/payments",
        "when": "Режим для смешанных команд: тикет + тип + область."
      }
    },
    "notes": "Дополните список паттернов, если используете иные типы веток."
  },
  "review": {
    "guidelines": [
      "Сообщения коммитов должны соответствовать активному режиму.",
      "Ветки создаются только допустимой командой (feature/fix/hotfix/mixed).",
      "Перед выпуском релиза обновите conventions.md вручную, чтобы зафиксировать актуальные правила."
    ]
  }
}
