# /commit

| Быстрый обзор | |
| --- | --- |
| Назначение | Сформировать сообщение коммита по активной конвенции и выполнить `git add` + `git commit`. |
| Входные параметры | `<summary>` |
| Побочные эффекты | Индексируется весь рабочий каталог, создаётся новый коммит. |
| Команда | `/commit "implement rule engine"` |

## Описание
Команда генерирует сообщение коммита на основе текущей ветки и режима, затем выполняет `git add -A` и `git commit` с полученным сообщением.

## Параметры
- `summary` — краткое описание изменений без префикса (префикс добавляется автоматически).

## Примеры
```
/commit "implement rule engine"
```

## Побочные эффекты
- Запускает `python3 scripts/commit_msg.py --summary "<summary>"`.
- Выполняет `git add -A` и `git commit -m "<message>"`, то есть модифицирует историю репозитория.

## Типичные ошибки
- «[commit] require --summary» — добавьте описание изменений.
- Конфликты или отсутствие staged-файлов — убедитесь, что рабочее дерево чистое либо подготовьте файлы вручную.
- Сообщение не соответствует режиму — проверьте активный режим через `/conventions-set` или `config/conventions.json`.

## Советы
- Выполняйте `/branch-new` перед `/commit`, чтобы ветка и сообщение были синхронизированы.
- Для предпросмотра сообщения без коммита запустите `python3 scripts/commit_msg.py --summary "..." --mode <mode>`.
