# /test-changed

**Назначение**: выполнить выборочные Gradle-тесты по затронутым модулям.

**Аргументы**: нет.

**Пример**
```
/test-changed
```

**Результат**
- Запускает `.claude/hooks/format-and-test.sh`, который:
  - применяет форматирование (Spotless/ktlint, если доступны);
  - строит карту проектов Gradle и определяет затронутые модули по `git diff`;
  - выполняет `:module:clean :module:test` (fallback `:jvmTest` / `:testDebugUnitTest`).

**Типичные ошибки**
- «Gradle not found» — добавьте `./gradlew` или установите Gradle.
- «No matching modules» → запускаются все тесты — это ожидаемое поведение при изменении общих файлов (`settings.gradle`, `libs.versions.toml`).
- Таймаут hook — убедитесь, что тесты не занимают слишком много времени; при необходимости запустите локально `./gradlew test`.

**Советы**
- Установите переменную `STRICT_TESTS=1`, если хотите падение команды при неуспехе тестов.
- Для пропуска форматирования экспортируйте `SKIP_FORMAT=1`.
